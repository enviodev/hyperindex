{{#each codegen_contracts as | contract |}}
  @genType
module {{contract.name.capitalized}} = {
  {{#each contract.codegen_events as | event |}}  
  module {{event.name}} = Types.MakeRegister(Types.{{contract.name.capitalized}}.{{event.name}})
  {{/each}}  
}

{{/each}}  
@genType /** Register a Block Handler. It'll be called for every block by default. */
let onBlock: (
  Envio.onBlockOptions<Types.chainId>,
  {{#if is_evm_ecosystem}}
  Envio.onBlockArgs<Envio.blockEvent, Types.handlerContext> => promise<unit>,
  {{else}}
  Envio.onBlockArgs<Envio.fuelBlockEvent, Types.handlerContext> => promise<unit>,
  {{/if}}
) => unit = (
  EventRegister.onBlock: (unknown, Internal.onBlockArgs => promise<unit>) => unit
)->Utils.magic
