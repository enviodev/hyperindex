{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Envio Svm Config Schema",
  "description": "Schema for a YAML config for an envio Svm indexer",
  "type": "object",
  "properties": {
    "description": {
      "description": "Description of the project",
      "type": [
        "string",
        "null"
      ]
    },
    "name": {
      "description": "Name of the project",
      "type": "string"
    },
    "schema": {
      "description": "Custom path to schema.graphql file",
      "type": [
        "string",
        "null"
      ]
    },
    "output": {
      "description": "Path where the generated directory will be placed. By default it's 'generated' relative to the current working directory. If set, it'll be a path relative to the config file location.",
      "type": [
        "string",
        "null"
      ]
    },
    "handlers": {
      "description": "Optional relative path to handlers directory for auto-loading. Defaults to 'src/handlers' if not specified.",
      "type": [
        "string",
        "null"
      ]
    },
    "full_batch_size": {
      "description": "Target number of events to be processed per batch. Set it to smaller number if you have many Effect API calls which are slow to resolve and can't be batched. (Default: 5000)",
      "type": [
        "integer",
        "null"
      ],
      "format": "uint64",
      "minimum": 0
    },
    "ecosystem": {
      "description": "Ecosystem of the project.",
      "$ref": "#/$defs/EcosystemTag"
    },
    "chains": {
      "description": "Configuration of the blockchain chains that the project is deployed on.",
      "type": "array",
      "items": {
        "$ref": "#/$defs/Chain"
      }
    }
  },
  "additionalProperties": false,
  "required": [
    "name",
    "ecosystem",
    "chains"
  ],
  "$defs": {
    "EcosystemTag": {
      "type": "string",
      "enum": [
        "svm"
      ]
    },
    "Chain": {
      "type": "object",
      "properties": {
        "rpc": {
          "description": "RPC endpoint URL for connecting to the Svm cluster to fetch blockchain data.",
          "type": "string"
        },
        "start_block": {
          "description": "The slot number at which the indexer should start ingesting data",
          "type": "integer",
          "format": "uint64",
          "minimum": 0
        },
        "end_block": {
          "description": "The slot number at which the indexer should terminate.",
          "type": [
            "integer",
            "null"
          ],
          "format": "uint64",
          "minimum": 0
        }
      },
      "additionalProperties": false,
      "required": [
        "rpc",
        "start_block"
      ]
    }
  }
}
